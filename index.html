<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI計算機</title>
    <link rel="stylesheet" href="./scss/bmi.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital@1&family=PT+Sans:ital@1&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="bmi">
        <nav>
            <div class="title">BMI計算機( 身體質量指數 )</div>
        </nav>
        <div class="all">
            <div class="left">
                <main>
                    <div class="content">
                        <h1>BMI值計算公式:BMI = 體重(公斤) / 身高2(公尺2)</h1>

                        <h2>例如：一個52公斤的人，身高是155公分，則BMI為 : </h2>

                        <p>52(公斤)/1.552 ( 公尺2 )= 21.6</p>

                        <span>體重正常範圍為 BMI=18.5～24</span>
                    </div>

                    <div class="sqr">
                        <div class="height_all">
                            <span>請輸入身高 : </span>
                            <input type="text" id="height" placeholder="身高(cm)">
                        </div>
                        <div class="width_all">
                            <span>請輸入體重 : </span>
                            <input type="text" id="width" placeholder="體重(kg)">
                        </div>
                        <div class="sqr_2">
                            <button class="yes">確定</button>
                            <button class="reset">重設</button>
                        </div>
                    </div>
                </main>

            </div>
            <div class="right">
                <footer>
                    <div class="answer">
                        <h1>計算結果</h1>
                        <div>
                            <p>我的bmi:</p>
                            <span class="myBMI"></span>
                        </div>
                        <div>
                            <p>我的狀態:</p>
                            <span class="status"></span>
                        </div>
                        <div>
                            <p>建議:</p>
                            <span class="suggestion"></span>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
    </div>
    <script>
        //1. 先取得主角(誰)
        //輸入資料的元素
        const height = document.querySelector('#height')
        const width = document.querySelector('#width')
        //輸出的元素
        const answer = document.querySelector('footer')
        const bmi_result = document.querySelector('.myBMI')
        const bmi_status = document.querySelector('.status')
        const bmi_suggestion = document.querySelector('.suggestion')


        //按鈕們
        const cal = document.querySelector('.yes')
        const reset = document.querySelector('.reset')
        let bmi = 0;
        let status = '未計算'
        let suggestion = '未計算'

        reset.onclick = function () {
            //2.根據時機點(甚麼時候)的要求，建立onclick(點擊事件)
            height.value = '';
            width.value = '';
            answer.style.display = 'none'
        }

        cal.onclick = function () {
            //2.根據時機點(甚麼時候)的要求，建立onclick(點擊事件)
            let input_h = (height.value) / 100;
            let input_w = width.value;

            //抓到值 首先先進行檢查
            if (isNaN(input_h) || isNaN(input_w)) {
                alert('請輸入數字!');
                console.log(isNaN(input_h));
            } else if (input_h <= 0 || input_w <= 0) {
                alert('請輸入正確的數字');
            } else if (input_h > 350 || input_w > 1000) {
                alert('請輸入正確的數字');
            } else if (input_h > 350 || input_w > 1000) {
                alert('請輸入正確的數字');
            } else {
                //計算bmi
                bmi = input_w / (input_h ** 2).toFixed(0)
                console.log('bmi:' + bmi); 
                answer.style.display = 'block'
            }
           
            if (bmi < 18.5) {
                //let 是區域變數，所以只要離開if就會消失不見
                //有兩種作法
                //1.在外圈先宣告一個空字串
                //2.直接使用var
                status = '過輕'
                suggestion = '多吃點肉'
            } else if (bmi < 24) {
                status = '正常'
                suggestion = '正常運動保持體態'
            } else if (bmi < 27) {
                status = '過重'
                suggestion = '多運動改善體態哦'
            } else if (bmi < 30) {
                status = '輕度肥胖'
                suggestion = '正常運動保持體態'
            } else if (bmi < 35) {
                status = '中度肥胖'
                suggestion = '該去健身房、調整飲食囉!'
            } else {
                status = '重度肥胖'
                suggestion = '小心心血管疾病，趕緊調整飲食養成運動習慣吧!'
            }
            //輸出計算值

            bmi_result.innerHTML = bmi
            bmi_status.innerHTML = status
            bmi_suggestion.innerHTML = suggestion
        }


    </script>
</body>

</html>